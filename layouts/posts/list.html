{{ define "main" }}
  {{ range sort .Paginator.Pages }}
  <article class="book-post markdown">
    <a href="{{ .RelPermalink }}" class="book-post-overlay-link" aria-label="{{ partial "docs/title" . }}"></a>
    <h2 class="book-post-title">
      {{ partial "docs/title" . }}
    </h2>
    <div class="book-post-container flex gap">
      <div>
        <div class="book-post-meta">
          {{ partial "docs/post-meta" . }}
        </div>
        <div class="book-post-content book-post-summary markdown-inner">
          {{- .Summary | truncate 256 -}}
        </div>
      </div>
      {{- $thumbnail := default "thumbnail.*" .Params.BookPostThumbnail -}}
      {{- with or (.Resources.GetMatch $thumbnail) (resources.GetMatch $thumbnail) -}}
      <div class="book-post-thumbnail">
        <img src="{{ .RelPermalink }}" alt="{{ partial "docs/text/i18n" "Thumbnail" }}" />
      </div>
      {{- end -}}
    </div>
  </article>
  {{ end }}
{{ end }}

{{ define "toc-container" }}
<aside class="book-toc">
  <div class="book-toc-content">
    {{ template "toc" . }}
  </div>
</aside>
{{ end }}

{{ define "toc" }}
  {{ partial "docs/taxonomy" . }}
{{ end }}

{{ define "footer" }}
  {{ partial "docs/pagination.html" . }}
{{ end }}